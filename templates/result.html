{% extends "layout.html" %}
{% block title %}Analysis Complete{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Analysis Complete</h1>
    <p>Our AI model has processed your image with advanced neural networks.</p>
</div>

<div class="card result-card">
    <div class="result-display {{ 'real' if result == 'Real' else 'fake' }}">
        <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
            {% if result == 'Real' %}
                <i class="fas fa-shield-check" style="font-size: 3rem; margin-right: 1rem; color: var(--success);"></i>
            {% else %}
                <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-right: 1rem; color: var(--danger);"></i>
            {% endif %}
            <div class="result-text {{ 'real' if result == 'Real' else 'fake' }}">{{ result }}</div>
        </div>
        
        <div class="confidence-text">
            <i class="fas fa-percentage"></i> Confidence: <span>{{ confidence }}%</span>
        </div>
        
        {% if result == 'Real' %}
        <p style="margin-top: 1rem; color: var(--success); font-weight: 600;">
            <i class="fas fa-check-circle"></i> This image appears to be authentic.
        </p>
        {% else %}
        <p style="margin-top: 1rem; color: var(--danger); font-weight: 600;">
            <i class="fas fa-robot"></i> This image shows signs of AI generation.
        </p>
        {% endif %}
    </div>

    <div class="explanation-box" style="margin: 2rem 1rem; padding: 1.5rem; background-color: rgba(0,0,0,0.1); border-left: 4px solid var(--primary);">
        <h4 style="margin-top: 0; color: var(--primary); font-weight: 600;"><i class="fas fa-robot"></i> AI-Powered Explanation</h4>
        <p style="margin-bottom: 0; line-height: 1.7; color: var(--text-gray);">
            {{ explanation | default('No detailed explanation is available for this analysis.', true) }}
        </p>
    </div>
    
    <div class="disclaimer">
        <i class="fas fa-info-circle" style="margin-right: 0.5rem;"></i>
        <strong>Important Notice:</strong> This result is generated by an AI model. While highly accurate, it should be used as a screening tool alongside human judgment and additional verification methods.
    </div>
    
    <div style="text-align: center; margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="{{ url_for('home') }}" class="btn-primary">
            <i class="fas fa-upload"></i> Analyze Another
        </a>
        <a href="{{ url_for('history') }}" class="btn-primary" style="background: linear-gradient(45deg, var(--secondary), var(--accent));">
            <i class="fas fa-history"></i> View History
        </a>
    </div>
</div>

<div class="card" style="margin-top: 2rem;">
    <div style="text-align: center;">
        <h3 style="color: var(--primary); margin-bottom: 1.5rem;">How It Works</h3>
        <div class="features-grid">
            <div class="feature-item">
                <h3><i class="fas fa-eye"></i> Pixel Analysis</h3>
                <p>Deep examination of pixel patterns and inconsistencies typical of AI generation.</p>
            </div>
            <div class="feature-item">
                <h3><i class="fas fa-brain"></i> Neural Detection</h3>
                <p>Advanced algorithms identify subtle artifacts left by generative models.</p>
            </div>
            <div class="feature-item">
                <h3><i class="fas fa-chart-line"></i> Confidence Scoring</h3>
                <p>Statistical confidence based on multiple detection layers and feature analysis.</p>
            </div>
            <div class="feature-item">
                <h3><i class="fas fa-comment-dots"></i> Contextual Insights</h3>
                <p>Leverages advanced AI to provide detailed, easy-to-understand explanations for each analysis.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}